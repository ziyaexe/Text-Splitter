<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Code Splitter</title>
  <style>
    /* Inter font import */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

    /* General body and container styling */
    body {
      background-color: #111827; /* bg-gray-900 */
      color: #D1D5DB; /* text-gray-200 */
      font-family: 'Inter', sans-serif;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
    }

    /* Main application container */
    .container {
      background-color: #1F2937; /* bg-gray-800 */
      padding: 2rem;
      border-radius: 1rem; /* rounded-2xl */
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
      width: 100%;
      max-width: 56rem; /* max-w-4xl */
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    /* Input and select element styling */
    textarea, input, select {
      background-color: #111827; /* bg-gray-900 */
      color: #E5E7EB; /* text-gray-300 */
      padding: 1rem;
      border-radius: 0.75rem; /* rounded-xl */
      border: 1px solid #374151; /* border-gray-700 */
      transition: all 0.3s ease-in-out;
      width: 100%;
    }

    textarea:focus, input:focus, select:focus {
      outline: none;
      border-color: #8B5CF6; /* focus:border-purple-500 */
    }

    textarea {
      height: 20rem; /* h-80 */
      resize: vertical;
    }

    /* Button styling */
    button {
      font-weight: 700; /* font-bold */
      padding: 0.75rem 1.5rem;
      border-radius: 9999px; /* rounded-full */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
      transition: all 0.3s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      cursor: pointer;
    }

    button:hover {
      transform: scale(1.05);
    }

    .btn-split {
      background-color: #9333ea; /* bg-purple-600 */
      color: #fff;
    }
    .btn-split:hover {
      background-color: #7e22ce; /* hover:bg-purple-700 */
    }

    .btn-clear {
      background-color: #374151; /* bg-gray-700 */
      color: #fff;
    }
    .btn-clear:hover {
      background-color: #4B5563; /* hover:bg-gray-600 */
    }
    
    .btn-copy-all, .btn-copy-single {
      background: none;
      box-shadow: none;
      padding: 0;
      color: #9CA3AF; /* text-gray-400 */
      font-weight: 400;
      transition: color 0.3s ease-in-out;
      transform: none;
    }

    .btn-copy-all:hover, .btn-copy-single:hover {
      color: #8B5CF6; /* hover:text-purple-500 */
      transform: none;
    }

    /* Icons and text alignment */
    .icon-text-container {
      display: flex;
      align-items: center;
    }
    .icon-text-container svg {
      margin-right: 0.5rem;
    }

    /* Flexbox and Layout fixes */
    .flex-col { display: flex; flex-direction: column; }
    .flex-row { display: flex; flex-direction: row; }
    .justify-between { justify-content: space-between; }
    .items-center { align-items: center; }
    .gap-4 { gap: 1rem; }
    
    .controls-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .action-buttons {
      display: flex;
      gap: 0.5rem;
      width: 100%;
    }

    .action-buttons button {
      flex: 1 1 0%;
    }

    @media (min-width: 768px) {
      .controls-container {
        flex-direction: row;
        align-items: flex-end;
      }
      .action-buttons {
        width: auto;
      }
    }

    /* Utility classes */
    .text-4xl { font-size: 2.25rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-sm { font-size: 0.875rem; }
    .font-extrabold { font-weight: 800; }
    .font-semibold { font-weight: 600; }
    .text-white { color: #fff; }
    .text-gray-400 { color: #9CA3AF; }
    .text-gray-500 { color: #6B7280; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .block { display: block; }
    .w-full { width: 100%; }
    .flex-1 { flex: 1 1 0%; }
    .hidden { display: none; }
    .relative { position: relative; }
    .fixed { position: fixed; }
    .bottom-8 { bottom: 2rem; }
    .left-1\/2 { left: 50%; }
    .-translate-x-1\/2 { transform: translateX(-50%); }
    .bg-green-500 { background-color: #22c55e; }
    .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
    .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
    .whitespace-pre-wrap { white-space: pre-wrap; }
    .font-mono { font-family: monospace; }
    .max-h-96 { max-height: 24rem; }
    .overflow-y-auto { overflow-y: auto; }
    .pr-2 { padding-right: 0.5rem; }

    /* Keyframes for simple animation */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .animate-pulse {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes bounce-in {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    .animate-bounce-in {
      animation: bounce-in 0.3s ease-out;
    }
  </style>
</head>
<body>

  <!-- Main Application Container -->
  <div class="container">
    <!-- Page Title -->
    <h1 class="text-4xl font-extrabold text-white mb-6 animate-pulse">
      Code Splitter Tool
    </h1>

    <!-- Input area for the code -->
    <div class="flex-col gap-4">
      <label for="code-input" class="text-gray-400 flex-row justify-between items-center">
        <span class="icon-text-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/><line x1="10" x2="14" y1="3" y2="21"/></svg>
          Paste Your Code Here
        </span>
        <span id="char-count" class="text-sm text-gray-500">0 characters</span>
      </label>
      <textarea id="code-input" placeholder="e.g., Paste your JavaScript, Python, or HTML code..."></textarea>
    </div>

    <!-- Controls section -->
    <div class="controls-container">
      <!-- Chunk size input -->
      <div class="flex-1 flex-col gap-2">
        <label for="chunk-size" class="text-gray-400 block">Max Chunk Size</label>
        <input id="chunk-size" type="number" min="1" value="2000">
      </div>

      <!-- Splitting method dropdown -->
      <div class="flex-1 flex-col gap-2">
        <label for="split-method" class="text-gray-400 block">Split By</label>
        <select id="split-method">
          <option value="characters">Characters</option>
          <option value="lines">Lines</option>
          <option value="delimiter">Custom Delimiter</option>
        </select>
      </div>

      <!-- Custom Delimiter Input (conditionally hidden) -->
      <div id="delimiter-input-container" class="flex-1 flex-col gap-2 hidden">
        <label for="custom-delimiter" class="text-gray-400 block">Delimiter</label>
        <input id="custom-delimiter" type="text" value="---">
      </div>
      
      <!-- Action buttons -->
      <div class="action-buttons">
        <button id="clear-btn" class="btn-clear">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M21 16l-7 7-3-3"/><path d="M14 2h6l-7 7"/></svg>
          <span class="ml-2">Clear</span>
        </button>
        <button id="split-btn" class="btn-split">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 20.5L12 17l3.5 3.5"/><path d="M12 17V3"/><path d="M15.5 3.5L12 7l-3.5-3.5"/></svg>
          <span class="ml-2">Split</span>
        </button>
      </div>
    </div>
    
    <!-- Output area for the chunks -->
    <div id="chunks-container" class="mt-8 hidden">
      <h2 class="text-2xl font-semibold text-white mb-4 icon-text-container">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><path d="M14 2v6h6"/></svg>
        Split Chunks
      </h2>

      <!-- "Copy All" button -->
      <div class="flex-row justify-between items-center mb-4">
        <div></div>
        <button id="copy-all-btn" class="btn-copy-all icon-text-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
          Copy All Chunks
        </button>
      </div>
      
      <!-- List of chunks -->
      <div id="chunks-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
        <!-- Chunks will be dynamically added here by JavaScript -->
      </div>
    </div>

    <!-- Copy notification -->
    <div id="notification" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-full hidden">
      Copied to clipboard!
    </div>
  </div>

  <script>
    // Get references to all HTML elements
    const codeInput = document.getElementById('code-input');
    const charCount = document.getElementById('char-count');
    const chunkSizeInput = document.getElementById('chunk-size');
    const splitMethodSelect = document.getElementById('split-method');
    const customDelimiterContainer = document.getElementById('delimiter-input-container');
    const customDelimiterInput = document.getElementById('custom-delimiter');
    const clearBtn = document.getElementById('clear-btn');
    const splitBtn = document.getElementById('split-btn');
    const chunksContainer = document.getElementById('chunks-container');
    const chunksList = document.getElementById('chunks-list');
    const copyAllBtn = document.getElementById('copy-all-btn');
    const notification = document.getElementById('notification');

    // Function to show/hide notification
    const showNotification = () => {
      notification.classList.remove('hidden');
      notification.classList.add('animate-bounce-in');
      setTimeout(() => {
        notification.classList.add('hidden');
        notification.classList.remove('animate-bounce-in');
      }, 2000);
    };

    // Function to copy text to clipboard
    const copyToClipboard = (text) => {
      const textarea = document.createElement('textarea');
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      showNotification();
    };

    // Function to split the code based on selected method
    const handleSplit = () => {
      const code = codeInput.value;
      if (!code) {
        chunksContainer.classList.add('hidden');
        chunksList.innerHTML = '';
        return;
      }

      const chunkSize = parseInt(chunkSizeInput.value, 10);
      const splitMethod = splitMethodSelect.value;
      let newChunks = [];

      if (splitMethod === 'characters') {
        for (let i = 0; i < code.length; i += chunkSize) {
          newChunks.push(code.substring(i, i + chunkSize));
        }
      } else if (splitMethod === 'lines') {
        const lines = code.split('\n');
        let currentChunk = '';
        for (const line of lines) {
          if ((currentChunk.split('\n').length + 1) <= chunkSize) {
            currentChunk += (currentChunk ? '\n' : '') + line;
          } else {
            newChunks.push(currentChunk);
            currentChunk = line;
          }
        }
        if (currentChunk) {
          newChunks.push(currentChunk);
        }
      } else if (splitMethod === 'delimiter') {
        const customDelimiter = customDelimiterInput.value;
        const parts = code.split(customDelimiter);
        let currentChunk = '';
        for (const part of parts) {
          if (!part.trim()) continue;
          if (currentChunk.length + part.length + customDelimiter.length <= chunkSize) {
            currentChunk += part + customDelimiter;
          } else {
            if (currentChunk) {
              newChunks.push(currentChunk);
            }
            currentChunk = part + customDelimiter;
          }
        }
        if (currentChunk) {
          newChunks.push(currentChunk);
        }
      }

      // Display the chunks
      chunksList.innerHTML = '';
      if (newChunks.length > 0) {
        chunksContainer.classList.remove('hidden');
        newChunks.forEach((chunk, index) => {
          const chunkDiv = document.createElement('div');
          chunkDiv.className = 'bg-gray-900 p-4 rounded-xl border border-gray-700';
          chunkDiv.innerHTML = `
            <div class="flex-row justify-between items-center mb-2">
              <span class="text-gray-500 text-sm">Chunk ${index + 1}</span>
              <button class="btn-copy-single">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </div>
            <pre class="whitespace-pre-wrap font-mono text-sm text-gray-300">${chunk}</pre>
          `;
          chunkDiv.querySelector('.btn-copy-single').addEventListener('click', () => {
            copyToClipboard(chunk);
          });
          chunksList.appendChild(chunkDiv);
        });
      } else {
        chunksContainer.classList.add('hidden');
      }
    };

    // Function to clear all fields
    const handleClear = () => {
      codeInput.value = '';
      chunkSizeInput.value = '2000';
      splitMethodSelect.value = 'characters';
      customDelimiterInput.value = '---';
      chunksContainer.classList.add('hidden');
      chunksList.innerHTML = '';
      charCount.textContent = '0 characters';
      customDelimiterContainer.classList.add('hidden');
    };

    // Event Listeners
    codeInput.addEventListener('input', () => {
      charCount.textContent = `${codeInput.value.length} characters`;
    });

    splitMethodSelect.addEventListener('change', () => {
      if (splitMethodSelect.value === 'delimiter') {
        customDelimiterContainer.classList.remove('hidden');
      } else {
        customDelimiterContainer.classList.add('hidden');
      }
    });

    splitBtn.addEventListener('click', handleSplit);
    clearBtn.addEventListener('click', handleClear);

    copyAllBtn.addEventListener('click', () => {
      const allChunks = Array.from(chunksList.querySelectorAll('pre')).map(pre => pre.textContent).join('\n\n' + '-'.repeat(30) + '\n\n');
      copyToClipboard(allChunks);
    });
  </script>
</body>
</html>
